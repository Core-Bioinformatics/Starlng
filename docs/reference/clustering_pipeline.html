<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Community detection pipeline — clustering_pipeline • Starlng</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Community detection pipeline — clustering_pipeline"><meta property="og:description" content="This function applies the PhenoGraph pipeline given an
embedding matrix. The pipeline creates the exact nearest-neighbour graph
using the RANN package, then applies the Leiden algorithm to find the
clusters. The pipeline can be run multiple times while changing the random
seed, to ensure the robustness of the resulting clusters."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Starlng</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Core-Bioinformatics/Starlng/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Community detection pipeline</h1>
    <small class="dont-index">Source: <a href="https://github.com/Core-Bioinformatics/Starlng/blob/HEAD/R/gene_clustering.R" class="external-link"><code>R/gene_clustering.R</code></a></small>
    <div class="hidden name"><code>clustering_pipeline.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function applies the PhenoGraph pipeline given an
embedding matrix. The pipeline creates the exact nearest-neighbour graph
using the RANN package, then applies the Leiden algorithm to find the
clusters. The pipeline can be run multiple times while changing the random
seed, to ensure the robustness of the resulting clusters.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">clustering_pipeline</span><span class="op">(</span></span>
<span>  <span class="va">embedding</span>,</span>
<span>  n_neighbours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">5</span>, to <span class="op">=</span> <span class="fl">50</span>, by <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>  graph_type <span class="op">=</span> <span class="st">"snn"</span>,</span>
<span>  prune_value <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  resolutions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>RBConfigurationVertexPartition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0.1</span>, to <span class="op">=</span> <span class="fl">2</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>    RBERVertexPartition <span class="op">=</span> <span class="cn">NULL</span>, ModularityVertexPartition <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  number_iterations <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  seeds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  number_repetitions <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  merge_identical_partitions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  memory_log_file <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-embedding">embedding<a class="anchor" aria-label="anchor" href="#arg-embedding"></a></dt>
<dd><p>The embedding matrix where each row represents a point
and each column a dimension.</p></dd>


<dt id="arg-n-neighbours">n_neighbours<a class="anchor" aria-label="anchor" href="#arg-n-neighbours"></a></dt>
<dd><p>A vector of integers representing the number of number
of neighbours to be used to build the adjacency graph.</p></dd>


<dt id="arg-graph-type">graph_type<a class="anchor" aria-label="anchor" href="#arg-graph-type"></a></dt>
<dd><p>The type of graph. Can be either "nn" - directed unweighted
graph or "snn" - undirected weighted graph, where the weights are calculated
using the JSI score.</p></dd>


<dt id="arg-prune-value">prune_value<a class="anchor" aria-label="anchor" href="#arg-prune-value"></a></dt>
<dd><p>The value used to prune the edges of the graph. If the
value is negative, the function will determine the highest pruning value
that will keep the graph connected. Defaults to -1.</p></dd>


<dt id="arg-resolutions">resolutions<a class="anchor" aria-label="anchor" href="#arg-resolutions"></a></dt>
<dd><p>A list of vectors representing the resolution parameters
used in the community detection algorithm. Each name of the list is
associated with a quality function. The values of the list are the resolution
parameters to be used. The available choices in terms of quality functions
are "RBConfigurationVertexPartition", "RBERVertexPartition" and
"ModularityVertexPartition".</p></dd>


<dt id="arg-number-iterations">number_iterations<a class="anchor" aria-label="anchor" href="#arg-number-iterations"></a></dt>
<dd><p>How many iterations the Leiden algorithm should
run. Defaults to 5.</p></dd>


<dt id="arg-seeds">seeds<a class="anchor" aria-label="anchor" href="#arg-seeds"></a></dt>
<dd><p>A vector of integers representing the random seeds to be used
in the community detection algorithm. If NULL, the function will generate
the seeds based on the number of repetitions. Defaults to NULL.</p></dd>


<dt id="arg-number-repetitions">number_repetitions<a class="anchor" aria-label="anchor" href="#arg-number-repetitions"></a></dt>
<dd><p>The number of repetitions the community detection
pipeline should run. Defaults to 100.</p></dd>


<dt id="arg-merge-identical-partitions">merge_identical_partitions<a class="anchor" aria-label="anchor" href="#arg-merge-identical-partitions"></a></dt>
<dd><p>Logical indicating if the function should
merge the partitions that are identical and group them by the number of
clusters. Defaults to TRUE.</p></dd>


<dt id="arg-memory-log-file">memory_log_file<a class="anchor" aria-label="anchor" href="#arg-memory-log-file"></a></dt>
<dd><p>The path to the file where the memory usage of the
function should be logged. Defaults to NULL.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of lists containing the clusters found for each combination
of number of neighbours and quality functions. If <code>merge_identical_partitions</code>
is set to TRUE, the last level will contain the partitions grouped by the
number of clusters, alongside with their overall Element-Centric Consistency
(ECC) score.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andi Munteanu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

